---
title: "Create Policy"
slug: "policy_createorupdate"
excerpt: "Creates a new policy from scratch."
hidden: false
createdAt: "2021-05-04T19:56:47.530Z"
updatedAt: "2021-06-17T20:38:57.563Z"
---
## Request body object has the following properties:

| Attribute      | Type             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| -------------- | ---------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| name           | string           | Policy Name                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| description    | string           | Policy description. This description is only for internal use of identification                                                                                                                                                                                                                                                                                                                                                                                                           |
| statements     | array of objects | Requirements to the Policy be applied                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ↳ effect      | string | This field is not functional at the moment. To create a correct request, fill the field with `Allow`                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ↳ actions      | array of objects | Actions that the Policy will execute                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| ↳↳ id          | string           | Action ID. The possible values can be `SendSlackMessage`, `SendEmail`, and `DeactivatePromotions`                                                                                                                                                                                                                                                                                                                                                                                   |
| ↳↳ metadata    | object           | Data inside of the actions                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ↳ resource     | string           | Scope on which this policy must be evaluated                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ↳ condition    | object           | Condition to activate this policy. This object can have a maximum of ten recursive conditions                                                                                                                                                                                                                                                                                                                                                                                             |
| ↳↳ conditions  | array of objects | List of conditions that will activate the policy                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ↳↳↳ conditions | array            | These are the conditions the actions can have. The possible values are `[]`, `stringEquals`, and `numericGreaterThan`                                                                                                                                                                                                                                                                                                                                                             |
| ↳↳↳ operation  | string           | The action of the condition. This operation possible values are `None`, `stringEquals`, `stringEqualsIgnoreCase`, `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between`                                                                                                              |
| ↳↳↳ key        | string           | The element that will define what the policy will influence. This field has the possible values `skuId`, `brandId`, `discountPercentage`                                                                                                                                                                                                                                                                                                                                            |
| ↳↳↳ values     | array            | Value of the key                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| ↳↳ operation   | string           | This operation will determine if all the conditions need to be valid or at least one of them if the conditions array is not empty.  The possible values to these fields are `None`, `stringEquals`, `stringEqualsIgnoreCase`,  `numericEquals`, `numericLessThan`, `numericLessThanEquals`,   `numericGreaterThan`, `numericGreaterThanEquals`, `bool`, `not`, `or`, `and`, `dateTimeUtcGreaterThan`, `dateTimeUtcLessThan`, and `between` |

## Request body example:
[block:code]
{
  "codes": [
    {
      "code": " {\n        \"name\": \"TestAlarmBerenice\",\n        \"description\": \"TesteMarcosPromotionsAlert\",\n        \"statements\": [\n            {\n              \"effect\": \"Allow\", \n              \"actions\": [\n                    {\n                        \"id\": \"SendSlackMessage\",\n                        \"metadata\": {\n                            \"channel\": \"C01NJFF35R6\",\n                            \"relatedUsers\": [\n                                \"URUNDC2NB\"\n                            ],\n                            \"alertDescription\": \"Avoid selling products from Berenice with a discount greater than 40%.\"\n                        }\n                    }\n                ],\n                \"resource\": \"vrn:vtex.promotions-alert:aws-us-east-1:kamila:master:/_v/promotions_alert\",\n                \"condition\": {\n                    \"conditions\": [\n                        {\n                            \"conditions\": [],\n                            \"operation\": \"stringEquals\",\n                            \"key\": \"brandId\",\n                            \"values\": [\n                                \"2000001\"\n                            ]\n                        },\n                        {\n                            \"conditions\": [],\n                            \"operation\": \"numericGreaterThan\",\n                            \"key\": \"discountPercentage\",\n                            \"values\": [\n                                \"40.00\"\n                            ]\n                        }\n                    ],\n                    \"operation\": \"and\"\n                }\n            }\n        ]\n    }\n }",
      "language": "json"
    }
  ]
}
[/block]
## Response body example:
[block:code]
{
  "codes": [
    {
      "code": "200 OK",
      "language": "json"
    }
  ]
}
[/block]